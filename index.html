<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENDER - CAMERA MOBIL</title>
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
    <style>
        body { background: #000; color: #ffaa00; text-align: center; font-family: sans-serif; padding: 20px; }
        .btn-live { background: #ffaa00; color: #000; padding: 25px; border-radius: 15px; font-weight: bold; width: 100%; border: none; font-size: 22px; cursor: pointer; text-transform: uppercase; }
        video { width: 100%; margin-top: 20px; border-radius: 10px; border: 2px solid #333; background: #111; }
        input { width: 80%; padding: 15px; margin-bottom: 15px; background: #222; border: 1px solid #ffaa00; color: #fff; text-align: center; border-radius: 5px; }
    </style>
</head>
<body>
    <h1 style="font-size: 18px;">TRANSMISIE LIVE</h1>
    <input type="text" id="peer-id" value="LAPTOP-MV-STUDIO">
    <button class="btn-live" onclick="conecteaza()">PORNEȘTE CAMERA</button>
    <video id="privew" autoplay playsinline muted></video>

    <script>
        const peer = new Peer();
        async function conecteaza() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { facingMode: "environment" },
                    audio: true
                });
                document.getElementById('privew').srcObject = stream;
                const idLaptop = document.getElementById('peer-id').value;
                peer.call(idLaptop, stream);
                alert("CONECTAT! Verifică laptopul.");
            } catch (err) {
                alert("Eroare cameră: " + err);
            }
        }
    </script>
</body>
</html>
